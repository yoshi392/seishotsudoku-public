<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>è–æ›¸é€šèª­</title>

  <link rel="manifest" href="./manifest.webmanifest" />
  <meta name="theme-color" content="#ffffff" />

  <style>
    body{font-family:system-ui,-apple-system,"Hiragino Sans","Noto Sans JP",sans-serif;margin:0;background:#fff;color:#111}
    main{max-width:900px;margin:24px auto;padding:0 16px}
    h1{font-size:44px;margin:8px 0 18px}
    .topRow{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:6px 0 18px}
    .state{font-weight:700;color:#1b5e20}
    .btn{border:0;border-radius:18px;padding:10px 14px;font-weight:800;background:#f2f2f2;cursor:pointer}
    .btn:disabled{opacity:.55;cursor:not-allowed}
    .btnPush{background:#efefef}
    .btnInstall{background:#e7f0ff}
    .btnAddHome{background:#fff4e6}
    .card{padding:18px;border-top:1px solid #eee}
    .date{font-size:22px;font-weight:800;margin:4px 0 10px}
    .titleRow{display:flex;align-items:center;gap:12px}
    h2{font-size:46px;margin:0}
    .heart{width:46px;height:46px;border-radius:18px;border:0;background:#f2f2f2;font-size:22px;cursor:pointer}
    .heart.liked{background:#ffe6e6}
    .btnRow{display:flex;gap:10px;flex-wrap:wrap;margin:14px 0}
    a.btn{display:inline-block;text-decoration:none}
    .blue{background:#e7f0ff;color:#174ea6}
    .orange{background:#ffe8c7;color:#8a4b00}
    .comment{font-size:22px;line-height:1.7;margin:12px 0 0}
    hr{border:0;border-top:1px solid #eee;margin:18px 0}
    h3{font-size:34px;margin:6px 0 12px}
    .filterRow{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin:10px 0 14px}
    .pill{border:1px solid #ddd;border-radius:18px;padding:9px 14px;font-weight:800;background:#fff;cursor:pointer}
    .pill.active{background:#f2f2f2}
    .count{color:#666;font-weight:700;margin-left:10px}
    .dayRow{display:grid;grid-template-columns:54px 1fr 54px;gap:8px;align-items:center;padding:10px 0;border-top:1px solid #f0f0f0}
    .check{width:46px;height:46px;border-radius:14px;border:0;background:#f2f2f2;font-size:20px;cursor:pointer}
    .mid .d{font-weight:900;font-size:20px}
    .mid .v{font-weight:900;font-size:22px;margin-top:2px}
    .heartSmall{width:46px;height:46px;border-radius:14px;border:0;background:#f2f2f2;font-size:20px;cursor:pointer}
    .heartSmall.liked{background:#ffe6e6}

    /* modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center;padding:18px;z-index:9999}
    .modalBox{background:#fff;border-radius:20px;max-width:560px;width:100%;padding:18px 18px 14px}
    .modalBox h4{margin:0 0 10px;font-size:22px}
    .modalBox ol{margin:0 0 10px;padding-left:20px;line-height:1.7;font-size:18px}
    .closeRow{display:flex;justify-content:flex-end}
  </style>
</head>

<body>
<main>
  <h1>è–æ›¸é€šèª­</h1>

  <div class="topRow">
    <button id="btnEnablePush" class="btn btnPush">ğŸ”” é€šçŸ¥ã‚’æœ‰åŠ¹ã«ã™ã‚‹</button>
    <span id="pushState" class="state"></span>

    <!-- Androidç”¨ï¼ˆæ¡ä»¶ãŒæƒã†ã¨å‡ºã‚‹ï¼‰ -->
    <button id="btnInstall" class="btn btnInstall" hidden>â¬‡ï¸ ã‚¢ãƒ—ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</button>

    <!-- iOSç”¨ï¼ˆè‡ªå‹•ã§é‚ªé­”ã—ãªã„ï¼‰ -->
    <button id="btnAddHome" class="btn btnAddHome" hidden>â• ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ </button>
  </div>

  <section class="card">
    <div id="todayDate" class="date"></div>
    <div class="titleRow">
      <h2 id="todayTitle"></h2>
      <button id="btnLikeToday" class="heart" aria-label="ã„ã„ã­">â™¡</button>
    </div>

    <div id="todayVerse"></div>
    <div id="todayButtons"></div>
    <p id="todayComment" class="comment"></p>
  </section>

  <hr/>

  <section>
    <h3>éå»ã®è–æ›¸ç®‡æ‰€</h3>
    <div class="filterRow">
      <button id="btnFilterUnread" class="pill active">æœªèª­ã®ã¿</button>
      <button id="btnFilterAll" class="pill">ã™ã¹ã¦</button>
      <span id="countInfo" class="count"></span>
    </div>
    <div id="daysList"></div>
  </section>
</main>

<!-- iOS ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ æ¡ˆå†…ï¼ˆâ€»è‡ªå‹•è¡¨ç¤ºã—ãªã„ï¼‰ -->
<div id="modalAddHome" class="modal" hidden>
  <div class="modalBox">
    <h4>ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ </h4>
    <ol>
      <li>Safariã®å…±æœ‰ï¼ˆâ–¡ã«â†‘ï¼‰ã‚’ã‚¿ãƒƒãƒ—</li>
      <li>ã€Œãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã€ã‚’é¸æŠ</li>
      <li>è¿½åŠ å¾Œã¯ãƒ›ãƒ¼ãƒ ç”»é¢ã®ã‚¢ã‚¤ã‚³ãƒ³ã‹ã‚‰é–‹ã„ã¦ãã ã•ã„</li>
    </ol>
    <div class="closeRow">
      <button id="btnCloseAddHome" class="btn">é–‰ã˜ã‚‹</button>
    </div>
  </div>
</div>

<script>
  // â˜…ã“ã“ã ã‘è‡ªåˆ†ã®å€¤ã«åˆã‚ã›ã‚‹
  window.__CONFIG__ = {
    WORKER_ORIGIN: "https://seishotsudoku-push.teruntyo.workers.dev",
    APP_URL: "https://yoshi392.github.io/seishotsudoku/",
    VAPID_PUBLIC_KEY: "ï¼ˆã‚ãªãŸã®VAPIDå…¬é–‹éµã‚’ã“ã“ã¸ï¼‰"
  };
</script>
<script src="./app.js"></script>
</body>
</html>
